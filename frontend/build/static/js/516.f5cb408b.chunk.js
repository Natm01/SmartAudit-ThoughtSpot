"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[516],{8516:(e,t,n)=>{n.r(t),n.d(t,{Alias:()=>P,CST:()=>s,Composer:()=>Zt,Document:()=>Ot,Lexer:()=>Tn,LineCounter:()=>Ln,Pair:()=>ve,Parser:()=>jn,Scalar:()=>R,Schema:()=>Nt,YAMLError:()=>It,YAMLMap:()=>Ne,YAMLParseError:()=>Tt,YAMLSeq:()=>Ae,YAMLWarning:()=>Lt,default:()=>Rn,isAlias:()=>h,isCollection:()=>v,isDocument:()=>d,isMap:()=>p,isNode:()=>b,isPair:()=>m,isScalar:()=>y,isSeq:()=>g,parse:()=>Un,parseAllDocuments:()=>qn,parseDocument:()=>Pn,stringify:()=>Fn,visit:()=>N,visitAsync:()=>A});var s={};n.r(s),n.d(s,{BOM:()=>pn,DOCUMENT:()=>mn,FLOW_END:()=>yn,SCALAR:()=>gn,createScalarToken:()=>tn,isCollection:()=>vn,isScalar:()=>bn,prettyToken:()=>kn,resolveAsScalar:()=>en,setScalarValue:()=>nn,stringify:()=>rn,tokenType:()=>wn,visit:()=>hn});var o={};n.r(o),n.d(o,{Alias:()=>P,CST:()=>s,Composer:()=>Zt,Document:()=>Ot,Lexer:()=>Tn,LineCounter:()=>Ln,Pair:()=>ve,Parser:()=>jn,Scalar:()=>R,Schema:()=>Nt,YAMLError:()=>It,YAMLMap:()=>Ne,YAMLParseError:()=>Tt,YAMLSeq:()=>Ae,YAMLWarning:()=>Lt,isAlias:()=>h,isCollection:()=>v,isDocument:()=>d,isMap:()=>p,isNode:()=>b,isPair:()=>m,isScalar:()=>y,isSeq:()=>g,parse:()=>Un,parseAllDocuments:()=>qn,parseDocument:()=>Pn,stringify:()=>Fn,visit:()=>N,visitAsync:()=>A});const i=Symbol.for("yaml.alias"),r=Symbol.for("yaml.document"),c=Symbol.for("yaml.map"),a=Symbol.for("yaml.pair"),l=Symbol.for("yaml.scalar"),u=Symbol.for("yaml.seq"),f=Symbol.for("yaml.node.type"),h=e=>!!e&&"object"===typeof e&&e[f]===i,d=e=>!!e&&"object"===typeof e&&e[f]===r,p=e=>!!e&&"object"===typeof e&&e[f]===c,m=e=>!!e&&"object"===typeof e&&e[f]===a,y=e=>!!e&&"object"===typeof e&&e[f]===l,g=e=>!!e&&"object"===typeof e&&e[f]===u;function v(e){if(e&&"object"===typeof e)switch(e[f]){case c:case u:return!0}return!1}function b(e){if(e&&"object"===typeof e)switch(e[f]){case i:case c:case l:case u:return!0}return!1}const k=e=>(y(e)||v(e))&&!!e.anchor,w=Symbol("break visit"),S=Symbol("skip children"),E=Symbol("remove node");function N(e,t){const n=T(t);if(d(e)){O(null,e.contents,n,Object.freeze([e]))===E&&(e.contents=null)}else O(null,e,n,Object.freeze([]))}function O(e,t,n,s){const o=L(e,t,n,s);if(b(o)||m(o))return x(e,s,o),O(e,o,n,s);if("symbol"!==typeof o)if(v(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=O(e,t.items[e],n,s);if("number"===typeof o)e=o-1;else{if(o===w)return w;o===E&&(t.items.splice(e,1),e-=1)}}}else if(m(t)){s=Object.freeze(s.concat(t));const e=O("key",t.key,n,s);if(e===w)return w;e===E&&(t.key=null);const o=O("value",t.value,n,s);if(o===w)return w;o===E&&(t.value=null)}return o}async function A(e,t){const n=T(t);if(d(e)){await I(null,e.contents,n,Object.freeze([e]))===E&&(e.contents=null)}else await I(null,e,n,Object.freeze([]))}async function I(e,t,n,s){const o=await L(e,t,n,s);if(b(o)||m(o))return x(e,s,o),I(e,o,n,s);if("symbol"!==typeof o)if(v(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=await I(e,t.items[e],n,s);if("number"===typeof o)e=o-1;else{if(o===w)return w;o===E&&(t.items.splice(e,1),e-=1)}}}else if(m(t)){s=Object.freeze(s.concat(t));const e=await I("key",t.key,n,s);if(e===w)return w;e===E&&(t.key=null);const o=await I("value",t.value,n,s);if(o===w)return w;o===E&&(t.value=null)}return o}function T(e){return"object"===typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function L(e,t,n,s){var o,i,r,c,a;return"function"===typeof n?n(e,t,s):p(t)?null===(o=n.Map)||void 0===o?void 0:o.call(n,e,t,s):g(t)?null===(i=n.Seq)||void 0===i?void 0:i.call(n,e,t,s):m(t)?null===(r=n.Pair)||void 0===r?void 0:r.call(n,e,t,s):y(t)?null===(c=n.Scalar)||void 0===c?void 0:c.call(n,e,t,s):h(t)?null===(a=n.Alias)||void 0===a?void 0:a.call(n,e,t,s):void 0}function x(e,t,n){const s=t[t.length-1];if(v(s))s.items[e]=n;else if(m(s))"key"===e?s.key=n:s.value=n;else{if(!d(s)){const e=h(s)?"alias":"scalar";throw new Error("Cannot replace node with ".concat(e," parent"))}s.contents=n}}N.BREAK=w,N.SKIP=S,N.REMOVE=E,A.BREAK=w,A.SKIP=S,A.REMOVE=E;const C={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class _{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},_.defaultYaml,e),this.tags=Object.assign({},_.defaultTags,t)}clone(){const e=new _(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new _(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:_.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},_.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:_.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},_.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;{const n=/^\d+\.\d+$/.test(e);return t(6,"Unsupported YAML version ".concat(e),n),!1}}default:return t(0,"Unknown directive ".concat(s),!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t("Not a valid tag: ".concat(e)),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t("Verbatim tags aren't resolved, so ".concat(e," is invalid.")),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^([^]*!)([^!]*)$/);s||t("The ".concat(e," tag has no suffix"));const o=this.tags[n];if(o)try{return o+decodeURIComponent(s)}catch(i){return t(String(i)),null}return"!"===n?e:(t("Could not resolve tag: ".concat(e)),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>C[e]));return"!"===e[0]?e:"!<".concat(e,">")}toString(e){const t=this.yaml.explicit?["%YAML ".concat(this.yaml.version||"1.2")]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&b(e.contents)){const t={};N(e.contents,((e,n)=>{b(n)&&n.tag&&(t[n.tag]=!0)})),s=Object.keys(t)}else s=[];for(const[o,i]of n)"!!"===o&&"tag:yaml.org,2002:"===i||e&&!s.some((e=>e.startsWith(i)))||t.push("%TAG ".concat(o," ").concat(i));return t.join("\n")}}function B(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e),n="Anchor must not contain whitespace or control characters: ".concat(t);throw new Error(n)}return!0}function K(e){const t=new Set;return N(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function M(e,t){for(let n=1;;++n){const s="".concat(e).concat(n);if(!t.has(s))return s}}function j(e,t,n,s){if(s&&"object"===typeof s)if(Array.isArray(s))for(let o=0,i=s.length;o<i;++o){const t=s[o],n=j(e,s,String(o),t);void 0===n?delete s[o]:n!==t&&(s[o]=n)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const t=s.get(o),n=j(e,s,o,t);void 0===n?s.delete(o):n!==t&&s.set(o,n)}else if(s instanceof Set)for(const o of Array.from(s)){const t=j(e,s,o,o);void 0===t?s.delete(o):t!==o&&(s.delete(o),s.add(t))}else for(const[o,i]of Object.entries(s)){const t=j(e,s,o,i);void 0===t?delete s[o]:t!==i&&(s[o]=t)}return e.call(t,n,s)}function D(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>D(e,String(t),n)));if(e&&"function"===typeof e.toJSON){if(!n||!k(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!==typeof e||null!==n&&void 0!==n&&n.keep?e:Number(e)}_.defaultYaml={explicit:!1,version:"1.2"},_.defaultTags={"!!":"tag:yaml.org,2002:"};class q{constructor(e){Object.defineProperty(this,f,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e){let{mapAsMap:t,maxAliasCount:n,onAnchor:s,reviver:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!d(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"===typeof n?n:100},r=D(this,"",i);if("function"===typeof s)for(const{count:c,res:a}of i.anchors.values())s(a,c);return"function"===typeof o?j(o,{"":r},"",r):r}}class P extends q{constructor(e){super(i),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let n,s;null!==t&&void 0!==t&&t.aliasResolveCache?n=t.aliasResolveCache:(n=[],N(e,{Node:(e,t)=>{(h(t)||k(t))&&n.push(t)}}),t&&(t.aliasResolveCache=n));for(const o of n){if(o===this)break;o.anchor===this.source&&(s=o)}return s}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:o}=t,i=this.resolve(s,t);if(!i){const e="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new ReferenceError(e)}let r=n.get(i);if(r||(D(i,null,t),r=n.get(i)),!r||void 0===r.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(o>=0&&(r.count+=1,0===r.aliasCount&&(r.aliasCount=U(s,i,n)),r.count*r.aliasCount>o)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return r.res}toString(e,t,n){const s="*".concat(this.source);if(e){if(B(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new Error(e)}if(e.implicitKey)return"".concat(s," ")}return s}}function U(e,t,n){if(h(t)){const s=t.resolve(e),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}if(v(t)){let s=0;for(const o of t.items){const t=U(e,o,n);t>s&&(s=t)}return s}if(m(t)){const s=U(e,t.key,n),o=U(e,t.value,n);return Math.max(s,o)}return 1}const F=e=>!e||"function"!==typeof e&&"object"!==typeof e;class R extends q{constructor(e){super(l),this.value=e}toJSON(e,t){return null!==t&&void 0!==t&&t.keep?this.value:D(this.value,e,t)}toString(){return String(this.value)}}R.BLOCK_FOLDED="BLOCK_FOLDED",R.BLOCK_LITERAL="BLOCK_LITERAL",R.PLAIN="PLAIN",R.QUOTE_DOUBLE="QUOTE_DOUBLE",R.QUOTE_SINGLE="QUOTE_SINGLE";function $(e,t,n){var s,o,i;if(d(e)&&(e=e.contents),b(e))return e;if(m(e)){var r,a;const t=null===(r=(a=n.schema[c]).createNode)||void 0===r?void 0:r.call(a,n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:l,onAnchor:f,onTagObj:h,schema:p,sourceObjects:y}=n;let g;if(l&&e&&"object"===typeof e){var v;if(g=y.get(e),g)return null!==(v=g.anchor)&&void 0!==v||(g.anchor=f(e)),new P(g.anchor);g={anchor:null,node:null},y.set(e,g)}null!==(s=t)&&void 0!==s&&s.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let k=function(e,t,n){if(t){var s;const e=n.filter((e=>e.tag===t)),o=null!==(s=e.find((e=>!e.format)))&&void 0!==s?s:e[0];if(!o)throw new Error("Tag ".concat(t," not found"));return o}return n.find((t=>{var n;return(null===(n=t.identify)||void 0===n?void 0:n.call(t,e))&&!t.format}))}(e,t,p.tags);if(!k){if(e&&"function"===typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==typeof e){const t=new R(e);return g&&(g.node=t),t}k=e instanceof Map?p[c]:Symbol.iterator in Object(e)?p[u]:p[c]}h&&(h(k),delete n.onTagObj);const w=null!==(o=k)&&void 0!==o&&o.createNode?k.createNode(n.schema,e,n):"function"===typeof(null===(i=k)||void 0===i||null===(i=i.nodeClass)||void 0===i?void 0:i.from)?k.nodeClass.from(n.schema,e,n):new R(e);return t?w.tag=t:k.default||(w.tag=k.tag),g&&(g.node=w),w}function V(e,t,n){let s=n;for(let o=t.length-1;o>=0;--o){const e=t[o];if("number"===typeof e&&Number.isInteger(e)&&e>=0){const t=[];t[e]=s,s=t}else s=new Map([[e,s]])}return $(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Y=e=>null==e||"object"===typeof e&&!!e[Symbol.iterator]().next().done;class J extends q{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>b(t)||m(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Y(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(v(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(s));this.set(n,V(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(v(s))return s.deleteIn(n);throw new Error("Expected YAML collection at ".concat(t,". Remaining path: ").concat(n))}getIn(e,t){const[n,...s]=e,o=this.get(n,!0);return 0===s.length?!t&&y(o)?o.value:o:v(o)?o.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!m(t))return!1;const n=t.value;return null==n||e&&y(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!v(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(v(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(s));this.set(n,V(this.schema,s,t))}}}}const W=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function G(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Q=(e,t,n)=>e.endsWith("\n")?G(n,t):n.includes("\n")?"\n"+G(n,t):(e.endsWith(" ")?"":" ")+n,H="flow",X="block",z="quoted";function Z(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!o||o<0)return e;o<i&&(i=0);const a=Math.max(1+i,1+o-t.length);if(e.length<=a)return e;const l=[],u={};let f,h,d=o-t.length;"number"===typeof s&&(s>o-Math.max(2,i)?l.push(0):d=o-s);let p=!1,m=-1,y=-1,g=-1;n===X&&(m=ee(e,m,t.length),-1!==m&&(d=m+a));for(let b;b=e[m+=1];){if(n===z&&"\\"===b){switch(y=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}g=m}if("\n"===b)n===X&&(m=ee(e,m,t.length)),d=m+t.length+a,f=void 0;else{if(" "===b&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=m)}if(m>=d)if(f)l.push(f),d=f+a,f=void 0;else if(n===z){for(;" "===h||"\t"===h;)h=b,b=e[m+=1],p=!0;const t=m>g+1?m-2:y-1;if(u[t])return e;l.push(t),u[t]=!0,d=t+a,f=void 0}else p=!0}h=b}if(p&&c&&c(),0===l.length)return e;r&&r();let v=e.slice(0,l[0]);for(let b=0;b<l.length;++b){const s=l[b],o=l[b+1]||e.length;0===s?v="\n".concat(t).concat(e.slice(0,o)):(n===z&&u[s]&&(v+="".concat(e[s],"\\")),v+="\n".concat(t).concat(e.slice(s+1,o)))}return v}function ee(e,t,n){let s=t,o=t+1,i=e[o];for(;" "===i||"\t"===i;)if(t<o+n)i=e[++t];else{do{i=e[++t]}while(i&&"\n"!==i);s=t,o=t+1,i=e[o]}return s}const te=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ne=e=>/^(%|---|\.\.\.)/m.test(e);function se(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,o=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(ne(e)?"  ":"");let r="",c=0;for(let a=0,l=n[a];l;l=n[++a])if(" "===l&&"\\"===n[a+1]&&"n"===n[a+2]&&(r+=n.slice(c,a)+"\\ ",a+=1,c=a,l="\\"),"\\"===l)switch(n[a+1]){case"u":{r+=n.slice(c,a);const e=n.substr(a+2,4);switch(e){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:"00"===e.substr(0,2)?r+="\\x"+e.substr(2):r+=n.substr(a,6)}a+=5,c=a+1}break;case"n":if(s||'"'===n[a+2]||n.length<o)a+=1;else{for(r+=n.slice(c,a)+"\n\n";"\\"===n[a+2]&&"n"===n[a+3]&&'"'!==n[a+4];)r+="\n",a+=2;r+=i," "===n[a+2]&&(r+="\\"),a+=1,c=a+1}break;default:a+=1}return r=c?r+n.slice(c):n,s?r:Z(r,i,z,te(t,!1))}function oe(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return se(e,t);const n=t.indent||(ne(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(n))+"'";return t.implicitKey?s:Z(s,n,H,te(t,!1))}function ie(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=se;else{const t=e.includes('"'),o=e.includes("'");s=t&&!o?oe:o&&!t?se:n?oe:se}return s(e,t)}let re;try{re=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch($n){re=/\n+(?!\n|$)/g}function ce(e,t,n,s){let{comment:o,type:i,value:r}=e;const{blockQuote:c,commentString:a,lineWidth:l}=t.options;if(!c||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return ie(r,t);const u=t.indent||(t.forceBlockIndent||ne(r)?"  ":""),f="literal"===c||"folded"!==c&&i!==R.BLOCK_FOLDED&&(i===R.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,o=e.length;if(o<=s)return!1;for(let i=0,r=0;i<o;++i)if("\n"===e[i]){if(i-r>s)return!0;if(r=i+1,o-r<=s)return!1}return!0}(r,l,u.length));if(!r)return f?"|\n":">\n";let h,d;for(d=r.length;d>0;--d){const e=r[d-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=r.substring(d);const m=p.indexOf("\n");-1===m?h="-":r===p||m!==p.length-1?(h="+",s&&s()):h="",p&&(r=r.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(re,"$&".concat(u)));let y,g=!1,v=-1;for(y=0;y<r.length;++y){const e=r[y];if(" "===e)g=!0;else{if("\n"!==e)break;v=y}}let b=r.substring(0,v<y?v+1:y);b&&(r=r.substring(b.length),b=b.replace(/\n+/g,"$&".concat(u)));let k=(g?u?"2":"1":"")+h;if(o&&(k+=" "+a(o.replace(/ ?[\r\n]+/g," ")),n&&n()),!f){const e=r.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(u));let n=!1;const s=te(t,!0);"folded"!==c&&i!==R.BLOCK_FOLDED&&(s.onOverflow=()=>{n=!0});const o=Z("".concat(b).concat(e).concat(p),u,X,s);if(!n)return">".concat(k,"\n").concat(u).concat(o)}return r=r.replace(/\n+/g,"$&".concat(u)),"|".concat(k,"\n").concat(u).concat(b).concat(r).concat(p)}function ae(e,t,n,s){const{implicitKey:o,inFlow:i}=t,r="string"===typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:c}=e;c!==R.QUOTE_DOUBLE&&/(?:[\0-\x08\x0B-\x1F\x7F-\x9F]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/.test(r.value)&&(c=R.QUOTE_DOUBLE);const a=e=>{switch(e){case R.BLOCK_FOLDED:case R.BLOCK_LITERAL:return o||i?ie(r.value,t):ce(r,t,n,s);case R.QUOTE_DOUBLE:return se(r.value,t);case R.QUOTE_SINGLE:return oe(r.value,t);case R.PLAIN:return function(e,t,n,s){const{type:o,value:i}=e,{actualString:r,implicitKey:c,indent:a,indentStep:l,inFlow:u}=t;if(c&&i.includes("\n")||u&&/[[\]{},]/.test(i))return ie(i,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return c||u||!i.includes("\n")?ie(i,t):ce(e,t,n,s);if(!c&&!u&&o!==R.PLAIN&&i.includes("\n"))return ce(e,t,n,s);if(ne(i)){if(""===a)return t.forceBlockIndent=!0,ce(e,t,n,s);if(c&&a===l)return ie(i,t)}const f=i.replace(/\n+/g,"$&\n".concat(a));if(r){const e=e=>{var t;return e.default&&"tag:yaml.org,2002:str"!==e.tag&&(null===(t=e.test)||void 0===t?void 0:t.test(f))},{compat:n,tags:s}=t.doc.schema;if(s.some(e)||null!==n&&void 0!==n&&n.some(e))return ie(i,t)}return c?f:Z(f,a,H,te(t,!1))}(r,t,n,s);default:return null}};let l=a(c);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,s=o&&e||n;if(l=a(s),null===l)throw new Error("Unsupported default string type ".concat(s))}return l}function le(e,t){const n=Object.assign({blockQuote:!0,commentString:W,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"===typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function ue(e,t,n,s){var o;if(m(e))return e.toString(t,n,s);if(h(e)){var i;if(t.doc.directives)return e.toString(t);if(null!==(i=t.resolvedAliases)&&void 0!==i&&i.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let r;const c=b(e)?e:t.doc.createNode(e,{onTagObj:e=>r=e});null!==r&&void 0!==r||(r=function(e,t){if(t.tag){var n;const s=e.filter((e=>e.tag===t.tag));if(s.length>0)return null!==(n=s.find((e=>e.format===t.format)))&&void 0!==n?n:s[0]}let s,o;if(y(t)){var i;o=t.value;let n=e.filter((e=>{var t;return null===(t=e.identify)||void 0===t?void 0:t.call(e,o)}));if(n.length>1){const e=n.filter((e=>e.test));e.length>0&&(n=e)}s=null!==(i=n.find((e=>e.format===t.format)))&&void 0!==i?i:n.find((e=>!e.format))}else o=t,s=e.find((e=>e.nodeClass&&o instanceof e.nodeClass));if(!s){var r,c;const e=null!==(r=null===(c=o)||void 0===c||null===(c=c.constructor)||void 0===c?void 0:c.name)&&void 0!==r?r:null===o?"null":typeof o;throw new Error("Tag not resolved for ".concat(e," value"))}return s}(t.doc.schema.tags,c));const a=function(e,t,n){var s;let{anchors:o,doc:i}=n;if(!i.directives)return"";const r=[],c=(y(e)||v(e))&&e.anchor;c&&B(c)&&(o.add(c),r.push("&".concat(c)));const a=null!==(s=e.tag)&&void 0!==s?s:t.default?null:t.tag;return a&&r.push(i.directives.tagString(a)),r.join(" ")}(c,r,t);a.length>0&&(t.indentAtStart=(null!==(o=t.indentAtStart)&&void 0!==o?o:0)+a.length+1);const l="function"===typeof r.stringify?r.stringify(c,t,n,s):y(c)?ae(c,t,n,s):c.toString(t,n,s);return a?y(c)||"{"===l[0]||"["===l[0]?"".concat(a," ").concat(l):"".concat(a,"\n").concat(t.indent).concat(l):l}function fe(e,t){"debug"!==e&&"warn"!==e||console.warn(t)}const he="<<",de={identify:e=>e===he||"symbol"===typeof e&&e.description===he,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new R(Symbol(he)),{addToJSMap:pe}),stringify:()=>he};function pe(e,t,n){if(n=e&&h(n)?n.resolve(e.doc):n,g(n))for(const s of n.items)me(e,t,s);else if(Array.isArray(n))for(const s of n)me(e,t,s);else me(e,t,n)}function me(e,t,n){const s=e&&h(n)?n.resolve(e.doc):n;if(!p(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,e,Map);for(const[i,r]of o)t instanceof Map?t.has(i)||t.set(i,r):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0});return t}function ye(e,t,n){let{key:s,value:o}=n;if(b(s)&&s.addToJSMap)s.addToJSMap(e,t,o);else if(((e,t)=>(de.identify(t)||y(t)&&(!t.type||t.type===R.PLAIN)&&de.identify(t.value))&&(null===e||void 0===e?void 0:e.doc.schema.tags.some((e=>e.tag===de.tag&&e.default))))(e,s))pe(e,t,o);else{const n=D(s,"",e);if(t instanceof Map)t.set(n,D(o,n,e));else if(t instanceof Set)t.add(n);else{const i=function(e,t,n){if(null===t)return"";if("object"!==typeof t)return String(t);if(b(e)&&null!==n&&void 0!==n&&n.doc){const t=le(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),fe(n.doc.options.logLevel,"Keys with collection values will be stringified due to JS Object restrictions: ".concat(e,". Set mapAsMap: true to use object keys.")),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(s,n,e),r=D(o,i,e);i in t?Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):t[i]=r}}return t}function ge(e,t,n){const s=$(e,void 0,n),o=$(t,void 0,n);return new ve(s,o)}class ve{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.defineProperty(this,f,{value:a}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return b(t)&&(t=t.clone(e)),b(n)&&(n=n.clone(e)),new ve(t,n)}toJSON(e,t){return ye(t,null!==t&&void 0!==t&&t.mapAsMap?new Map:{},this)}toString(e,t,n){return null!==e&&void 0!==e&&e.doc?function(e,t,n,s){let{key:o,value:i}=e;const{allNullValues:r,doc:c,indent:a,indentStep:l,options:{commentString:u,indentSeq:f,simpleKeys:h}}=t;let d=b(o)&&o.comment||null;if(h){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(v(o)||!b(o)&&"object"===typeof o)throw new Error("With simple keys, collection cannot be used as a key value")}let p=!h&&(!o||d&&null==i&&!t.inFlow||v(o)||(y(o)?o.type===R.BLOCK_FOLDED||o.type===R.BLOCK_LITERAL:"object"===typeof o));t=Object.assign({},t,{allNullValues:!1,implicitKey:!p&&(h||!r),indent:a+l});let m,k,w,S=!1,E=!1,N=ue(o,t,(()=>S=!0),(()=>E=!0));if(!p&&!t.inFlow&&N.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(t.inFlow){if(r||null==i)return S&&n&&n(),""===N?"?":p?"? ".concat(N):N}else if(r&&!h||null==i&&p)return N="? ".concat(N),d&&!S?N+=Q(N,t.indent,u(d)):E&&s&&s(),N;S&&(d=null),p?(d&&(N+=Q(N,t.indent,u(d))),N="? ".concat(N,"\n").concat(a,":")):(N="".concat(N,":"),d&&(N+=Q(N,t.indent,u(d)))),b(i)?(m=!!i.spaceBefore,k=i.commentBefore,w=i.comment):(m=!1,k=null,w=null,i&&"object"===typeof i&&(i=c.createNode(i))),t.implicitKey=!1,p||d||!y(i)||(t.indentAtStart=N.length+1),E=!1,f||!(l.length>=2)||t.inFlow||p||!g(i)||i.flow||i.tag||i.anchor||(t.indent=t.indent.substring(2));let O=!1;const A=ue(i,t,(()=>O=!0),(()=>E=!0));let I=" ";if(d||m||k){if(I=m?"\n":"",k){const e=u(k);I+="\n".concat(G(e,t.indent))}""!==A||t.inFlow?I+="\n".concat(t.indent):"\n"===I&&(I="\n\n")}else if(!p&&v(i)){var T,L;const e=A[0],n=A.indexOf("\n"),s=-1!==n,o=null!==(T=null!==(L=t.inFlow)&&void 0!==L?L:i.flow)&&void 0!==T?T:0===i.items.length;if(s||!o){let o=!1;if(s&&("&"===e||"!"===e)){let t=A.indexOf(" ");"&"===e&&-1!==t&&t<n&&"!"===A[t+1]&&(t=A.indexOf(" ",t+1)),(-1===t||n<t)&&(o=!0)}o||(I="\n".concat(t.indent))}}else""!==A&&"\n"!==A[0]||(I="");return N+=I+A,t.inFlow?O&&n&&n():w&&!O?N+=Q(N,t.indent,u(w)):E&&s&&s(),N}(this,e,t,n):JSON.stringify(this)}}function be(e,t,n){var s;return((null!==(s=t.inFlow)&&void 0!==s?s:e.flow)?we:ke)(e,t,n)}function ke(e,t,n){let{comment:s,items:o}=e,{blockItemPrefix:i,flowChars:r,itemIndent:c,onChompKeep:a,onComment:l}=n;const{indent:u,options:{commentString:f}}=t,h=Object.assign({},t,{indent:c,type:null});let d=!1;const p=[];for(let g=0;g<o.length;++g){const e=o[g];let n=null;if(b(e))!d&&e.spaceBefore&&p.push(""),Se(t,p,e.commentBefore,d),e.comment&&(n=e.comment);else if(m(e)){const n=b(e.key)?e.key:null;n&&(!d&&n.spaceBefore&&p.push(""),Se(t,p,n.commentBefore,d))}d=!1;let s=ue(e,h,(()=>n=null),(()=>d=!0));n&&(s+=Q(s,c,f(n))),d&&n&&(d=!1),p.push(i+s)}let y;if(0===p.length)y=r.start+r.end;else{y=p[0];for(let e=1;e<p.length;++e){const t=p[e];y+=t?"\n".concat(u).concat(t):"\n"}}return s?(y+="\n"+G(f(s),u),l&&l()):d&&a&&a(),y}function we(e,t,n){let{items:s}=e,{flowChars:o,itemIndent:i}=n;const{indent:r,indentStep:c,flowCollectionPadding:a,options:{commentString:l}}=t;i+=c;const u=Object.assign({},t,{indent:i,inFlow:!0,type:null});let f=!1,h=0;const d=[];for(let g=0;g<s.length;++g){const e=s[g];let n=null;if(b(e))e.spaceBefore&&d.push(""),Se(t,d,e.commentBefore,!1),e.comment&&(n=e.comment);else if(m(e)){const s=b(e.key)?e.key:null;s&&(s.spaceBefore&&d.push(""),Se(t,d,s.commentBefore,!1),s.comment&&(f=!0));const o=b(e.value)?e.value:null;o?(o.comment&&(n=o.comment),o.commentBefore&&(f=!0)):null==e.value&&null!==s&&void 0!==s&&s.comment&&(n=s.comment)}n&&(f=!0);let o=ue(e,u,(()=>n=null));g<s.length-1&&(o+=","),n&&(o+=Q(o,i,l(n))),!f&&(d.length>h||o.includes("\n"))&&(f=!0),d.push(o),h=d.length}const{start:p,end:y}=o;if(0===d.length)return p+y;if(!f){const e=d.reduce(((e,t)=>e+t.length+2),2);f=t.options.lineWidth>0&&e>t.options.lineWidth}if(f){let e=p;for(const t of d)e+=t?"\n".concat(c).concat(r).concat(t):"\n";return"".concat(e,"\n").concat(r).concat(y)}return"".concat(p).concat(a).concat(d.join(" ")).concat(a).concat(y)}function Se(e,t,n,s){let{indent:o,options:{commentString:i}}=e;if(n&&s&&(n=n.replace(/^\n+/,"")),n){const e=G(i(n),o);t.push(e.trimStart())}}function Ee(e,t){const n=y(t)?t.value:t;for(const s of e)if(m(s)){if(s.key===t||s.key===n)return s;if(y(s.key)&&s.key.value===n)return s}}class Ne extends J{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(c,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:o}=n,i=new this(e),r=(e,r)=>{if("function"===typeof o)r=o.call(t,e,r);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==r||s)&&i.items.push(ge(e,r,n))};if(t instanceof Map)for(const[c,a]of t)r(c,a);else if(t&&"object"===typeof t)for(const c of Object.keys(t))r(c,t[c]);return"function"===typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i}add(e,t){var n;let s;s=m(e)?e:e&&"object"===typeof e&&"key"in e?new ve(e.key,e.value):new ve(e,null===e||void 0===e?void 0:e.value);const o=Ee(this.items,s.key),i=null===(n=this.schema)||void 0===n?void 0:n.sortMapEntries;if(o){if(!t)throw new Error("Key ".concat(s.key," already set"));y(o.value)&&F(s.value)?o.value.value=s.value:o.value=s.value}else if(i){const e=this.items.findIndex((e=>i(s,e)<0));-1===e?this.items.push(s):this.items.splice(e,0,s)}else this.items.push(s)}delete(e){const t=Ee(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){var n;const s=Ee(this.items,e),o=null===s||void 0===s?void 0:s.value;return null!==(n=!t&&y(o)?o.value:o)&&void 0!==n?n:void 0}has(e){return!!Ee(this.items,e)}set(e,t){this.add(new ve(e,t),!0)}toJSON(e,t,n){const s=n?new n:null!==t&&void 0!==t&&t.mapAsMap?new Map:{};null!==t&&void 0!==t&&t.onCreate&&t.onCreate(s);for(const o of this.items)ye(t,s,o);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!m(s))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(s)," instead"));return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),be(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Oe={collection:"map",default:!0,nodeClass:Ne,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(p(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>Ne.from(e,t,n)};class Ae extends J{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(u,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Ie(e);if("number"!==typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=Ie(e);if("number"!==typeof n)return;const s=this.items[n];return!t&&y(s)?s.value:s}has(e){const t=Ie(e);return"number"===typeof t&&t<this.items.length}set(e,t){const n=Ie(e);if("number"!==typeof n)throw new Error("Expected a valid index, not ".concat(e,"."));const s=this.items[n];y(s)&&F(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];null!==t&&void 0!==t&&t.onCreate&&t.onCreate(n);let s=0;for(const o of this.items)n.push(D(o,String(s++),t));return n}toString(e,t,n){return e?be(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:s}=n,o=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"===typeof s){const n=t instanceof Set?i:String(e++);i=s.call(t,n,i)}o.items.push($(i,void 0,n))}}return o}}function Ie(e){let t=y(e)?e.value:e;return t&&"string"===typeof t&&(t=Number(t)),"number"===typeof t&&Number.isInteger(t)&&t>=0?t:null}const Te={collection:"seq",default:!0,nodeClass:Ae,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(g(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>Ae.from(e,t,n)},Le={identify:e=>"string"===typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,s)=>ae(e,t=Object.assign({actualString:!0},t),n,s)},xe={identify:e=>null==e,createNode:()=>new R(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new R(null),stringify:(e,t)=>{let{source:n}=e;return"string"===typeof n&&xe.test.test(n)?n:t.options.nullStr}},Ce={identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new R("t"===e[0]||"T"===e[0]),stringify(e,t){let{source:n,value:s}=e;if(n&&Ce.test.test(n)){if(s===("t"===n[0]||"T"===n[0]))return n}return s?t.options.trueStr:t.options.falseStr}};function _e(e){let{format:t,minFractionDigits:n,tag:s,value:o}=e;if("bigint"===typeof o)return String(o);const i="number"===typeof o?o:Number(o);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(o);if(!t&&n&&(!s||"tag:yaml.org,2002:float"===s)&&/^\d/.test(r)){let e=r.indexOf(".");e<0&&(e=r.length,r+=".");let t=n-(r.length-e-1);for(;t-- >0;)r+="0"}return r}const Be={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},Ke={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():_e(e)}},Me={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new R(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:_e},je=e=>"bigint"===typeof e||Number.isInteger(e),De=(e,t,n,s)=>{let{intAsBigInt:o}=s;return o?BigInt(e):parseInt(e.substring(t),n)};function qe(e,t,n){const{value:s}=e;return je(s)&&s>=0?n+s.toString(t):_e(e)}const Pe={identify:e=>je(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>De(e,2,8,n),stringify:e=>qe(e,8,"0o")},Ue={identify:je,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>De(e,0,10,n),stringify:_e},Fe={identify:e=>je(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>De(e,2,16,n),stringify:e=>qe(e,16,"0x")},Re=[Oe,Te,Le,xe,Ce,Pe,Ue,Fe,Be,Ke,Me];function $e(e){return"bigint"===typeof e||Number.isInteger(e)}const Ve=e=>{let{value:t}=e;return JSON.stringify(t)},Ye=[Oe,Te].concat([{identify:e=>"string"===typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Ve},{identify:e=>null==e,createNode:()=>new R(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ve},{identify:e=>"boolean"===typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:Ve},{identify:$e,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,n)=>{let{intAsBigInt:s}=n;return s?BigInt(e):parseInt(e,10)},stringify:e=>{let{value:t}=e;return $e(t)?t.toString():JSON.stringify(t)}},{identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Ve}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t("Unresolved plain scalar ".concat(JSON.stringify(e))),e)}),Je={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"===typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify(e,t,n,s){let{comment:o,type:i,value:r}=e;if(!r)return"";const c=r;let a;if("function"!==typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<c.length;++t)e+=String.fromCharCode(c[t]);a=btoa(e)}if(null!==i&&void 0!==i||(i=R.BLOCK_LITERAL),i!==R.QUOTE_DOUBLE){const e=Math.max(t.options.lineWidth-t.indent.length,t.options.minContentWidth),n=Math.ceil(a.length/e),s=new Array(n);for(let t=0,o=0;t<n;++t,o+=e)s[t]=a.substr(o,e);a=s.join(i===R.BLOCK_LITERAL?"\n":" ")}return ae({comment:o,type:i,value:a},t,n,s)}};function We(e,t){if(g(e))for(let s=0;s<e.items.length;++s){let o=e.items[s];if(!m(o)){if(p(o)){o.items.length>1&&t("Each pair must have its own sequence indicator");const e=o.items[0]||new ve(new R(null));if(o.commentBefore&&(e.key.commentBefore=e.key.commentBefore?"".concat(o.commentBefore,"\n").concat(e.key.commentBefore):o.commentBefore),o.comment){var n;const t=null!==(n=e.value)&&void 0!==n?n:e.key;t.comment=t.comment?"".concat(o.comment,"\n").concat(t.comment):o.comment}o=e}e.items[s]=m(o)?o:new ve(o)}}else t("Expected a sequence for this tag");return e}function Ge(e,t,n){const{replacer:s}=n,o=new Ae(e);o.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let r of t){let e,c;if("function"===typeof s&&(r=s.call(t,String(i++),r)),Array.isArray(r)){if(2!==r.length)throw new TypeError("Expected [key, value] tuple: ".concat(r));e=r[0],c=r[1]}else if(r&&r instanceof Object){const t=Object.keys(r);if(1!==t.length)throw new TypeError("Expected tuple with one key, not ".concat(t.length," keys"));e=t[0],c=r[e]}else e=r;o.items.push(ge(e,c,n))}return o}const Qe={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:We,createNode:Ge};class He extends Ae{constructor(){super(),this.add=Ne.prototype.add.bind(this),this.delete=Ne.prototype.delete.bind(this),this.get=Ne.prototype.get.bind(this),this.has=Ne.prototype.has.bind(this),this.set=Ne.prototype.set.bind(this),this.tag=He.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;null!==t&&void 0!==t&&t.onCreate&&t.onCreate(n);for(const s of this.items){let e,o;if(m(s)?(e=D(s.key,"",t),o=D(s.value,e,t)):e=D(s,"",t),n.has(e))throw new Error("Ordered maps must not include duplicate keys");n.set(e,o)}return n}static from(e,t,n){const s=Ge(e,t,n),o=new this;return o.items=s.items,o}}He.tag="tag:yaml.org,2002:omap";const Xe={collection:"seq",identify:e=>e instanceof Map,nodeClass:He,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=We(e,t),s=[];for(const{key:o}of n.items)y(o)&&(s.includes(o.value)?t("Ordered maps must not include duplicate keys: ".concat(o.value)):s.push(o.value));return Object.assign(new He,n)},createNode:(e,t,n)=>He.from(e,t,n)};function ze(e,t){let{value:n,source:s}=e;return s&&(n?Ze:et).test.test(s)?s:n?t.options.trueStr:t.options.falseStr}const Ze={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new R(!0),stringify:ze},et={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new R(!1),stringify:ze},tt={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_e},nt={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():_e(e)}},st={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new R(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:_e},ot=e=>"bigint"===typeof e||Number.isInteger(e);function it(e,t,n,s){let{intAsBigInt:o}=s;const i=e[0];if("-"!==i&&"+"!==i||(t+=1),e=e.substring(t).replace(/_/g,""),o){switch(n){case 2:e="0b".concat(e);break;case 8:e="0o".concat(e);break;case 16:e="0x".concat(e)}const t=BigInt(e);return"-"===i?BigInt(-1)*t:t}const r=parseInt(e,n);return"-"===i?-1*r:r}function rt(e,t,n){const{value:s}=e;if(ot(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return _e(e)}const ct={identify:ot,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>it(e,2,2,n),stringify:e=>rt(e,2,"0b")},at={identify:ot,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>it(e,1,8,n),stringify:e=>rt(e,8,"0")},lt={identify:ot,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>it(e,0,10,n),stringify:_e},ut={identify:ot,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>it(e,2,16,n),stringify:e=>rt(e,16,"0x")};class ft extends Ne{constructor(e){super(e),this.tag=ft.tag}add(e){let t;t=m(e)?e:e&&"object"===typeof e&&"key"in e&&"value"in e&&null===e.value?new ve(e.key,null):new ve(e,null);Ee(this.items,t.key)||this.items.push(t)}get(e,t){const n=Ee(this.items,e);return!t&&m(n)?y(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!==typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(typeof t));const n=Ee(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new ve(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:s}=n,o=new this(e);if(t&&Symbol.iterator in Object(t))for(let i of t)"function"===typeof s&&(i=s.call(t,i,i)),o.items.push(ge(i,null,n));return o}}ft.tag="tag:yaml.org,2002:set";const ht={collection:"map",identify:e=>e instanceof Set,nodeClass:ft,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>ft.from(e,t,n),resolve(e,t){if(p(e)){if(e.hasAllNullValues(!0))return Object.assign(new ft,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function dt(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=s.replace(/_/g,"").split(":").reduce(((e,t)=>e*o(60)+o(t)),o(0));return"-"===n?o(-1)*i:i}function pt(e){let{value:t}=e,n=e=>e;if("bigint"===typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return _e(e);let s="";t<0&&(s="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),s+i.map((e=>String(e).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const mt={identify:e=>"bigint"===typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,n)=>{let{intAsBigInt:s}=n;return dt(e,s)},stringify:pt},yt={identify:e=>"number"===typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>dt(e,!1),stringify:pt},gt={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(gt.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,i,r,c]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,s-1,o,i||0,r||0,c||0,a);const u=t[8];if(u&&"Z"!==u){let e=dt(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:e=>{var t;let{value:n}=e;return null!==(t=null===n||void 0===n?void 0:n.toISOString().replace(/(T00:00:00)?\.000Z$/,""))&&void 0!==t?t:""}},vt=[Oe,Te,Le,xe,Ze,et,ct,at,lt,ut,tt,nt,st,Je,de,Xe,Qe,ht,mt,yt,gt],bt=new Map([["core",Re],["failsafe",[Oe,Te,Le]],["json",Ye],["yaml11",vt],["yaml-1.1",vt]]),kt={binary:Je,bool:Ce,float:Me,floatExp:Ke,floatNaN:Be,floatTime:yt,int:Ue,intHex:Fe,intOct:Pe,intTime:mt,map:Oe,merge:de,null:xe,omap:Xe,pairs:Qe,seq:Te,set:ht,timestamp:gt},wt={"tag:yaml.org,2002:binary":Je,"tag:yaml.org,2002:merge":de,"tag:yaml.org,2002:omap":Xe,"tag:yaml.org,2002:pairs":Qe,"tag:yaml.org,2002:set":ht,"tag:yaml.org,2002:timestamp":gt};function St(e,t,n){const s=bt.get(t);if(s&&!e)return n&&!s.includes(de)?s.concat(de):s.slice();let o=s;if(!o){if(!Array.isArray(e)){const e=Array.from(bt.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error('Unknown schema "'.concat(t,'"; use one of ').concat(e," or define customTags array"))}o=[]}if(Array.isArray(e))for(const i of e)o=o.concat(i);else"function"===typeof e&&(o=e(o.slice()));return n&&(o=o.concat(de)),o.reduce(((e,t)=>{const n="string"===typeof t?kt[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(kt).map((e=>JSON.stringify(e))).join(", ");throw new Error("Unknown custom tag ".concat(e,"; use one of ").concat(n))}return e.includes(n)||e.push(n),e}),[])}const Et=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Nt{constructor(e){let{compat:t,customTags:n,merge:s,resolveKnownTags:o,schema:i,sortMapEntries:r,toStringDefaults:a}=e;this.compat=Array.isArray(t)?St(t,"compat"):t?St(null,t):null,this.name="string"===typeof i&&i||"core",this.knownTags=o?wt:{},this.tags=St(n,this.name,s),this.toStringOptions=null!==a&&void 0!==a?a:null,Object.defineProperty(this,c,{value:Oe}),Object.defineProperty(this,l,{value:Le}),Object.defineProperty(this,u,{value:Te}),this.sortMapEntries="function"===typeof r?r:!0===r?Et:null}clone(){const e=Object.create(Nt.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Ot{constructor(e,t,n){var s;this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,f,{value:r});let o=null;"function"===typeof t||Array.isArray(t)?o=t:void 0===n&&t&&(n=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:c}=i;null!==(s=n)&&void 0!==s&&s._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(c=this.directives.yaml.version)):this.directives=new _({version:c}),this.setSchema(c,n),this.contents=void 0===e?null:this.createNode(e,o,n)}clone(){const e=Object.create(Ot.prototype,{[f]:{value:r}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=b(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){At(this.contents)&&this.contents.add(e)}addIn(e,t){At(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=K(this);e.anchor=!t||n.has(t)?M(t||"a",n):t}return new P(e.anchor)}createNode(e,t,n){let s;if("function"===typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"===typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:r,keepUndefined:c,onTagObj:a,tag:l}=null!==n&&void 0!==n?n:{},{onAnchor:u,setAnchors:f,sourceObjects:h}=function(e,t){const n=[],s=new Map;let o=null;return{onAnchor:s=>{n.push(s),null!==o&&void 0!==o||(o=K(e));const i=M(t,o);return o.add(i),i},setAnchors:()=>{for(const e of n){const t=s.get(e);if("object"!==typeof t||!t.anchor||!y(t.node)&&!v(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,i||"a"),d=$(e,l,{aliasDuplicateObjects:null===o||void 0===o||o,keepUndefined:null!==c&&void 0!==c&&c,onAnchor:u,onTagObj:a,replacer:s,schema:this.schema,sourceObjects:h});return r&&v(d)&&(d.flow=!0),f(),d}createPair(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.createNode(e,null,n),o=this.createNode(t,null,n);return new ve(s,o)}delete(e){return!!At(this.contents)&&this.contents.delete(e)}deleteIn(e){return Y(e)?null!=this.contents&&(this.contents=null,!0):!!At(this.contents)&&this.contents.deleteIn(e)}get(e,t){return v(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Y(e)?!t&&y(this.contents)?this.contents.value:this.contents:v(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!v(this.contents)&&this.contents.has(e)}hasIn(e){return Y(e)?void 0!==this.contents:!!v(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=V(this.schema,[e],t):At(this.contents)&&this.contents.set(e,t)}setIn(e,t){Y(e)?this.contents=t:null==this.contents?this.contents=V(this.schema,Array.from(e),t):At(this.contents)&&this.contents.setIn(e,t)}setSchema(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch("number"===typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new _({version:"1.1"}),t={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new _({version:e}),t={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,t=null;break;default:{const t=JSON.stringify(e);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: ".concat(t))}}if(n.schema instanceof Object)this.schema=n.schema;else{if(!t)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Nt(Object.assign(t,n))}}toJS(){let{json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"===typeof s?s:100},c=D(this.contents,null!==t&&void 0!==t?t:"",r);if("function"===typeof o)for(const{count:a,res:l}of r.anchors.values())o(l,a);return"function"===typeof i?j(i,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error('"indent" option must be a positive integer, not '.concat(t))}return function(e,t){var n;const s=[];let o=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(s.push(t),o=!0):e.directives.docStart&&(o=!0)}o&&s.push("---");const i=le(e,t),{commentString:r}=i.options;if(e.commentBefore){1!==s.length&&s.unshift("");const t=r(e.commentBefore);s.unshift(G(t,""))}let c=!1,a=null;if(e.contents){if(b(e.contents)){if(e.contents.spaceBefore&&o&&s.push(""),e.contents.commentBefore){const t=r(e.contents.commentBefore);s.push(G(t,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>c=!0;let n=ue(e.contents,i,(()=>a=null),t);a&&(n+=Q(n,"",r(a))),"|"!==n[0]&&">"!==n[0]||"---"!==s[s.length-1]?s.push(n):s[s.length-1]="--- ".concat(n)}else s.push(ue(e.contents,i));if(null!==(n=e.directives)&&void 0!==n&&n.docEnd)if(e.comment){const t=r(e.comment);t.includes("\n")?(s.push("..."),s.push(G(t,""))):s.push("... ".concat(t))}else s.push("...");else{let t=e.comment;t&&c&&(t=t.replace(/^\n+/,"")),t&&(c&&!a||""===s[s.length-1]||s.push(""),s.push(G(r(t),"")))}return s.join("\n")+"\n"}(this,e)}}function At(e){if(v(e))return!0;throw new Error("Expected a YAML collection as document contents")}class It extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class Tt extends It{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Lt extends It{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const xt=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:s,col:o}=n.linePos[0];n.message+=" at line ".concat(s,", column ").concat(o);let i=o-1,r=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&r.length>80){const e=Math.min(i-39,r.length-79);r="\u2026"+r.substring(e),i-=e-1}if(r.length>80&&(r=r.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(r.substring(0,i))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\u2026\n"),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>o&&(e=Math.max(1,Math.min(t.col-o,80-i)));const c=" ".repeat(i)+"^".repeat(e);n.message+=":\n\n".concat(r,"\n").concat(c,"\n")}};function Ct(e,t){let{flow:n,indicator:s,next:o,offset:i,onError:r,parentIndent:c,startOnNewline:a}=t,l=!1,u=a,f=a,h="",d="",p=!1,m=!1,y=null,g=null,v=null,b=null,k=null,w=null,S=null;for(const O of e)switch(m&&("space"!==O.type&&"newline"!==O.type&&"comma"!==O.type&&r(O.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(u&&"comment"!==O.type&&"newline"!==O.type&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),O.type){case"space":n||"doc-start"===s&&"flow-collection"===(null===o||void 0===o?void 0:o.type)||!O.source.includes("\t")||(y=O),f=!0;break;case"comment":{f||r(O,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=O.source.substring(1)||" ";h?h+=d+e:h=e,d="",u=!1;break}case"newline":u?h?h+=O.source:w&&"seq-item-ind"===s||(l=!0):d+=O.source,u=!0,p=!0,(g||v)&&(b=O),f=!0;break;case"anchor":g&&r(O,"MULTIPLE_ANCHORS","A node can have at most one anchor"),O.source.endsWith(":")&&r(O.offset+O.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=O,null!==S&&void 0!==S||(S=O.offset),u=!1,f=!1,m=!0;break;case"tag":v&&r(O,"MULTIPLE_TAGS","A node can have at most one tag"),v=O,null!==S&&void 0!==S||(S=O.offset),u=!1,f=!1,m=!0;break;case s:(g||v)&&r(O,"BAD_PROP_ORDER","Anchors and tags must be after the ".concat(O.source," indicator")),w&&r(O,"UNEXPECTED_TOKEN","Unexpected ".concat(O.source," in ").concat(null!==n&&void 0!==n?n:"collection")),w=O,u="seq-item-ind"===s||"explicit-key-ind"===s,f=!1;break;case"comma":if(n){k&&r(O,"UNEXPECTED_TOKEN","Unexpected , in ".concat(n)),k=O,u=!1,f=!1;break}default:r(O,"UNEXPECTED_TOKEN","Unexpected ".concat(O.type," token")),u=!1,f=!1}const E=e[e.length-1],N=E?E.offset+E.source.length:i;return m&&o&&"space"!==o.type&&"newline"!==o.type&&"comma"!==o.type&&("scalar"!==o.type||""!==o.source)&&r(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=c||"block-map"===(null===o||void 0===o?void 0:o.type)||"block-seq"===(null===o||void 0===o?void 0:o.type))&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:k,found:w,spaceBefore:l,comment:h,hasNewline:p,anchor:g,tag:v,newlineAfterProp:b,end:N,start:null!==S&&void 0!==S?S:N}}function _t(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(_t(t.key)||_t(t.value))return!0}return!1;default:return!0}}function Bt(e,t,n){if("flow-collection"===(null===t||void 0===t?void 0:t.type)){const s=t.end[0];if(s.indent===e&&("]"===s.source||"}"===s.source)&&_t(t)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Kt(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const o="function"===typeof s?s:(e,t)=>e===t||y(e)&&y(t)&&e.value===t.value;return t.some((e=>o(e.key,n)))}const Mt="All mapping items must start at the same column";function jt(e,t,n,s){let o="";if(e){let i=!1,r="";for(const c of e){const{source:e,type:a}=c;switch(a){case"space":i=!0;break;case"comment":{n&&!i&&s(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=r+t:o=t,r="";break}case"newline":o&&(r+=e),i=!0;break;default:s(c,"UNEXPECTED_TOKEN","Unexpected ".concat(a," at node end"))}t+=e.length}}return{comment:o,offset:t}}const Dt="Block collections are not allowed within flow collections",qt=e=>e&&("block-map"===e.type||"block-seq"===e.type);function Pt(e,t,n,s,o,i){const r="block-map"===n.type?function(e,t,n,s,o){var i;let{composeNode:r,composeEmptyNode:c}=e;const a=new(null!==(i=null===o||void 0===o?void 0:o.nodeClass)&&void 0!==i?i:Ne)(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,u=null;for(const h of n.items){var f;const{start:e,key:o,sep:i,value:d}=h,p=Ct(e,{indicator:"explicit-key-ind",next:null!==o&&void 0!==o?o:null===i||void 0===i?void 0:i[0],offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0}),m=!p.found;if(m){if(o&&("block-seq"===o.type?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in o&&o.indent!==n.indent&&s(l,"BAD_INDENT",Mt)),!p.anchor&&!p.tag&&!i){u=p.end,p.comment&&(a.comment?a.comment+="\n"+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||_t(o))&&s(null!==o&&void 0!==o?o:e[e.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else(null===(f=p.found)||void 0===f?void 0:f.indent)!==n.indent&&s(l,"BAD_INDENT",Mt);t.atKey=!0;const y=p.end,g=o?r(t,o,p,s):c(t,y,e,null,p,s);t.schema.compat&&Bt(n.indent,o,s),t.atKey=!1,Kt(t,a.items,g)&&s(y,"DUPLICATE_KEY","Map keys must be unique");const v=Ct(null!==i&&void 0!==i?i:[],{indicator:"map-value-ind",next:d,offset:g.range[2],onError:s,parentIndent:n.indent,startOnNewline:!o||"block-scalar"===o.type});if(l=v.end,v.found){m&&("block-map"!==(null===d||void 0===d?void 0:d.type)||v.hasNewline||s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&p.start<v.found.offset-1024&&s(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const e=d?r(t,d,v,s):c(t,l,i,null,v,s);t.schema.compat&&Bt(n.indent,d,s),l=e.range[2];const o=new ve(g,e);t.options.keepSourceTokens&&(o.srcToken=h),a.items.push(o)}else{m&&s(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+="\n"+v.comment:g.comment=v.comment);const e=new ve(g);t.options.keepSourceTokens&&(e.srcToken=h),a.items.push(e)}}return u&&u<l&&s(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,null!==u&&void 0!==u?u:l],a}(e,t,n,s,i):"block-seq"===n.type?function(e,t,n,s,o){var i;let{composeNode:r,composeEmptyNode:c}=e;const a=new(null!==(i=null===o||void 0===o?void 0:o.nodeClass)&&void 0!==i?i:Ae)(t.schema);t.atRoot&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let l=n.offset,u=null;for(const{start:f,value:h}of n.items){const e=Ct(f,{indicator:"seq-item-ind",next:h,offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0});if(!e.found){if(!(e.anchor||e.tag||h)){u=e.end,e.comment&&(a.comment=e.comment);continue}h&&"block-seq"===h.type?s(e.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator")}const o=h?r(t,h,e,s):c(t,e.end,f,null,e,s);t.schema.compat&&Bt(n.indent,h,s),l=o.range[2],a.items.push(o)}return a.range=[n.offset,l,null!==u&&void 0!==u?u:l],a}(e,t,n,s,i):function(e,t,n,s,o){var i;let{composeNode:r,composeEmptyNode:c}=e;const a="{"===n.start.source,l=a?"flow map":"flow sequence",u=new(null!==(i=null===o||void 0===o?void 0:o.nodeClass)&&void 0!==i?i:a?Ne:Ae)(t.schema);u.flow=!0;const f=t.atRoot;f&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let h=n.offset+n.start.source.length;for(let b=0;b<n.items.length;++b){const e=n.items[b],{start:o,key:i,sep:f,value:p}=e,y=Ct(o,{flow:l,indicator:"explicit-key-ind",next:null!==i&&void 0!==i?i:null===f||void 0===f?void 0:f[0],offset:h,onError:s,parentIndent:n.indent,startOnNewline:!1});if(!y.found){if(!y.anchor&&!y.tag&&!f&&!p){0===b&&y.comma?s(y.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(l)):b<n.items.length-1&&s(y.start,"UNEXPECTED_TOKEN","Unexpected empty item in ".concat(l)),y.comment&&(u.comment?u.comment+="\n"+y.comment:u.comment=y.comment),h=y.end;continue}!a&&t.options.strict&&_t(i)&&s(i,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===b)y.comma&&s(y.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(l));else if(y.comma||s(y.start,"MISSING_CHAR","Missing , between ".concat(l," items")),y.comment){let e="";e:for(const t of o)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){var d;let t=u.items[u.items.length-1];m(t)&&(t=null!==(d=t.value)&&void 0!==d?d:t.key),t.comment?t.comment+="\n"+e:t.comment=e,y.comment=y.comment.substring(e.length+1)}}if(a||f||y.found){t.atKey=!0;const d=y.end,m=i?r(t,i,y,s):c(t,d,o,null,y,s);qt(i)&&s(m.range,"BLOCK_IN_FLOW",Dt),t.atKey=!1;const g=Ct(null!==f&&void 0!==f?f:[],{flow:l,indicator:"map-value-ind",next:p,offset:m.range[2],onError:s,parentIndent:n.indent,startOnNewline:!1});if(g.found){if(!a&&!y.found&&t.options.strict){if(f)for(const e of f){if(e===g.found)break;if("newline"===e.type){s(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}y.start<g.found.offset-1024&&s(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&":"===p.source[0]?s(p,"MISSING_CHAR","Missing space after : in ".concat(l)):s(g.start,"MISSING_CHAR","Missing , or : between ".concat(l," items")));const v=p?r(t,p,g,s):g.found?c(t,g.end,f,null,g,s):null;v?qt(p)&&s(v.range,"BLOCK_IN_FLOW",Dt):g.comment&&(m.comment?m.comment+="\n"+g.comment:m.comment=g.comment);const b=new ve(m,v);if(t.options.keepSourceTokens&&(b.srcToken=e),a){const e=u;Kt(t,e.items,m)&&s(d,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Ne(t.schema);e.flow=!0,e.items.push(b);const n=(null!==v&&void 0!==v?v:m).range;e.range=[m.range[0],n[1],n[2]],u.items.push(e)}h=v?v.range[2]:g.end}else{const e=p?r(t,p,y,s):c(t,y.end,f,null,y,s);u.items.push(e),h=e.range[2],qt(p)&&s(e.range,"BLOCK_IN_FLOW",Dt)}}const p=a?"}":"]",[y,...g]=n.end;let v=h;if(y&&y.source===p)v=y.offset+y.source.length;else{const e=l[0].toUpperCase()+l.substring(1);s(h,f?"MISSING_CHAR":"BAD_INDENT",f?"".concat(e," must end with a ").concat(p):"".concat(e," in block collection must be sufficiently indented and end with a ").concat(p)),y&&1!==y.source.length&&g.unshift(y)}if(g.length>0){const e=jt(g,v,t.options.strict,s);e.comment&&(u.comment?u.comment+="\n"+e.comment:u.comment=e.comment),u.range=[n.offset,v,e.offset]}else u.range=[n.offset,v,v];return u}(e,t,n,s,i),c=r.constructor;return"!"===o||o===c.tagName?(r.tag=c.tagName,r):(o&&(r.tag=o),r)}function Ut(e,t,n){const s=t.offset,o=function(e,t,n){let{offset:s,props:o}=e;if("block-scalar-header"!==o[0].type)return n(o[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=o[0],r=i[0];let c=0,a="",l=-1;for(let d=1;d<i.length;++d){const e=i[d];if(a||"-"!==e&&"+"!==e){const t=Number(e);!c&&t?c=t:-1===l&&(l=s+d)}else a=e}-1!==l&&n(l,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: ".concat(i));let u=!1,f="",h=i.length;for(let d=1;d<o.length;++d){const e=o[d];switch(e.type){case"space":u=!0;case"newline":h+=e.source.length;break;case"comment":if(t&&!u){n(e,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}h+=e.source.length,f=e.source.substring(1);break;case"error":n(e,"UNEXPECTED_TOKEN",e.message),h+=e.source.length;break;default:{n(e,"UNEXPECTED_TOKEN","Unexpected token in block scalar header: ".concat(e.type));const t=e.source;t&&"string"===typeof t&&(h+=t.length)}}}return{mode:r,indent:c,chomp:a,comment:f,length:h}}(t,e.options.strict,n);if(!o)return{value:"",type:null,comment:"",range:[s,s,s]};const i=">"===o.mode?R.BLOCK_FOLDED:R.BLOCK_LITERAL,r=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),o=[null!==s&&void 0!==s&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let i=1;i<t.length;i+=2)o.push([t[i],t[i+1]]);return o}(t.source):[];let c=r.length;for(let m=r.length-1;m>=0;--m){const e=r[m][1];if(""!==e&&"\r"!==e)break;c=m}if(0===c){const e="+"===o.chomp&&r.length>0?"\n".repeat(Math.max(1,r.length-1)):"";let n=s+o.length;return t.source&&(n+=t.source.length),{value:e,type:i,comment:o.comment,range:[s,n,n]}}let a=t.indent+o.indent,l=t.offset+o.length,u=0;for(let m=0;m<c;++m){const[t,s]=r[m];if(""!==s&&"\r"!==s){if(t.length<a){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}if(0===o.indent&&(a=t.length),u=m,0===a&&!e.atRoot){n(l,"BAD_INDENT","Block scalar values in collections must be indented")}break}0===o.indent&&t.length>a&&(a=t.length),l+=t.length+s.length+1}for(let m=r.length-1;m>=c;--m)r[m][0].length>a&&(c=m+1);let f="",h="",d=!1;for(let m=0;m<u;++m)f+=r[m][0].slice(a)+"\n";for(let m=u;m<c;++m){let[e,t]=r[m];l+=e.length+t.length+1;const s="\r"===t[t.length-1];if(s&&(t=t.slice(0,-1)),t&&e.length<a){const i=o.indent?"explicit indentation indicator":"first line",r="Block scalar lines must not be less indented than their ".concat(i);n(l-t.length-(s?2:1),"BAD_INDENT",r),e=""}i===R.BLOCK_LITERAL?(f+=h+e.slice(a)+t,h="\n"):e.length>a||"\t"===t[0]?(" "===h?h="\n":d||"\n"!==h||(h="\n\n"),f+=h+e.slice(a)+t,h="\n",d=!0):""===t?"\n"===h?f+="\n":h="\n":(f+=h+t,h=" ",d=!1)}switch(o.chomp){case"-":break;case"+":for(let e=c;e<r.length;++e)f+="\n"+r[e][0].slice(a);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const p=s+o.length+t.source.length;return{value:f,type:i,comment:o.comment,range:[s,p,p]}}function Ft(e,t,n){const{offset:s,type:o,source:i,end:r}=e;let c,a;const l=(e,t,o)=>n(s+e,t,o);switch(o){case"scalar":c=R.PLAIN,a=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n="block scalar indicator ".concat(e[0]);break;case"@":case"`":n="reserved character ".concat(e[0])}n&&t(0,"BAD_SCALAR_START","Plain value cannot start with ".concat(n));return Rt(e)}(i,l);break;case"single-quoted-scalar":c=R.QUOTE_SINGLE,a=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return Rt(e.slice(1,-1)).replace(/''/g,"'")}(i,l);break;case"double-quoted-scalar":c=R.QUOTE_DOUBLE,a=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const o=e[s];if("\r"!==o||"\n"!==e[s+1])if("\n"===o){const{fold:t,offset:o}=$t(e,s);n+=t,s=o}else if("\\"===o){let o=e[++s];const i=Vt[o];if(i)n+=i;else if("\n"===o)for(o=e[s+1];" "===o||"\t"===o;)o=e[1+ ++s];else if("\r"===o&&"\n"===e[s+1])for(o=e[1+ ++s];" "===o||"\t"===o;)o=e[1+ ++s];else if("x"===o||"u"===o||"U"===o){const i={x:2,u:4,U:8}[o];n+=Yt(e,s+1,i,t),s+=i}else{const o=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(o)),n+=o}}else if(" "===o||"\t"===o){const t=s;let i=e[s+1];for(;" "===i||"\t"===i;)i=e[1+ ++s];"\n"===i||"\r"===i&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):o)}else n+=o}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(i,l);break;default:return n(e,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: ".concat(o)),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=jt(r,u,t,n);return{value:a,type:c,comment:f.comment,range:[s,u,f.offset]}}function Rt(e){var t,n;let s,o;try{s=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),o=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch($n){s=/([^]*?)[ \t]*\r?\n/y,o=/[ \t]*([^]*?)[ \t]*\r?\n/y}let i=s.exec(e);if(!i)return e;let r=i[1],c=" ",a=s.lastIndex;for(o.lastIndex=a;i=o.exec(e);)""===i[1]?"\n"===c?r+=c:c="\n":(r+=c+i[1],c=" "),a=o.lastIndex;const l=/[ \t]*([^]*)/y;return l.lastIndex=a,i=l.exec(e),r+c+(null!==(t=null===(n=i)||void 0===n?void 0:n[1])&&void 0!==t?t:"")}function $t(e,t){let n="",s=e[t+1];for(;(" "===s||"\t"===s||"\n"===s||"\r"===s)&&("\r"!==s||"\n"===e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const Vt={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Yt(e,t,n,s){const o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(o)),o}return String.fromCodePoint(i)}function Jt(e,t,n,s){const{value:o,type:i,comment:r,range:c}="block-scalar"===t.type?Ut(e,t,s):Ft(t,e.options.strict,s),a=n?e.directives.tagName(n.source,(e=>s(n,"TAG_RESOLVE_FAILED",e))):null;let u,f;u=e.options.stringKeys&&e.atKey?e.schema[l]:a?function(e,t,n,s,o){if("!"===n)return e[l];const i=[];for(const a of e.tags)if(!a.collection&&a.tag===n){if(!a.default||!a.test)return a;i.push(a)}for(const a of i){var r;if(null!==(r=a.test)&&void 0!==r&&r.test(t))return a}const c=e.knownTags[n];if(c&&!c.collection)return e.tags.push(Object.assign({},c,{default:!1,test:void 0})),c;return o(s,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(n),"tag:yaml.org,2002:str"!==n),e[l]}(e.schema,o,a,n,s):"scalar"===t.type?function(e,t,n,s){let{atKey:o,directives:i,schema:r}=e;const c=r.tags.find((e=>{var n;return(!0===e.default||o&&"key"===e.default)&&(null===(n=e.test)||void 0===n?void 0:n.test(t))}))||r[l];if(r.compat){var a;const e=null!==(a=r.compat.find((e=>{var n;return e.default&&(null===(n=e.test)||void 0===n?void 0:n.test(t))})))&&void 0!==a?a:r[l];if(c.tag!==e.tag){const t=i.tagString(c.tag),o=i.tagString(e.tag);s(n,"TAG_RESOLVE_FAILED","Value may be parsed as either ".concat(t," or ").concat(o),!0)}}return c}(e,o,t,s):e.schema[l];try{const i=u.resolve(o,(e=>s(null!==n&&void 0!==n?n:t,"TAG_RESOLVE_FAILED",e)),e.options);f=y(i)?i:new R(i)}catch(h){const e=h instanceof Error?h.message:String(h);s(null!==n&&void 0!==n?n:t,"TAG_RESOLVE_FAILED",e),f=new R(o)}return f.range=c,f.source=o,i&&(f.type=i),a&&(f.tag=a),u.format&&(f.format=u.format),r&&(f.comment=r),f}function Wt(e,t,n){if(t){null!==n&&void 0!==n||(n=t.length);for(let o=n-1;o>=0;--o){let n=t[o];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++o];"space"===(null===(s=n)||void 0===s?void 0:s.type);){var s;e+=n.source.length,n=t[++o]}break}}return e}const Gt={composeNode:Qt,composeEmptyNode:Ht};function Qt(e,t,n,s){const o=e.atKey,{spaceBefore:i,comment:r,anchor:c,tag:a}=n;let l,u=!0;switch(t.type){case"alias":l=function(e,t,n){let{options:s}=e,{offset:o,source:i,end:r}=t;const c=new P(i.substring(1));""===c.source&&n(o,"BAD_ALIAS","Alias cannot be an empty string");c.source.endsWith(":")&&n(o+i.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=o+i.length,l=jt(r,a,s.strict,n);c.range=[o,a,l.offset],l.comment&&(c.comment=l.comment);return c}(e,t,s),(c||a)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=Jt(e,t,a,s),c&&(l.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=function(e,t,n,s,o){var i,r,c,a;const l=s.tag,u=l?t.directives.tagName(l.source,(e=>o(l,"TAG_RESOLVE_FAILED",e))):null;if("block-seq"===n.type){const{anchor:e,newlineAfterProp:t}=s,n=e&&l?e.offset>l.offset?e:l:null!==e&&void 0!==e?e:l;n&&(!t||t.offset<n.offset)&&o(n,"MISSING_CHAR","Missing newline after block sequence props")}const f="block-map"===n.type?"map":"block-seq"===n.type?"seq":"{"===n.start.source?"map":"seq";if(!l||!u||"!"===u||u===Ne.tagName&&"map"===f||u===Ae.tagName&&"seq"===f)return Pt(e,t,n,o,u);let h=t.schema.tags.find((e=>e.tag===u&&e.collection===f));if(!h){const s=t.schema.knownTags[u];var d;if(!s||s.collection!==f)return s?o(l,"BAD_COLLECTION_TYPE","".concat(s.tag," used for ").concat(f," collection, but expects ").concat(null!==(d=s.collection)&&void 0!==d?d:"scalar"),!0):o(l,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(u),!0),Pt(e,t,n,o,u);t.schema.tags.push(Object.assign({},s,{default:!1})),h=s}const p=Pt(e,t,n,o,u,h),m=null!==(i=null===(r=(c=h).resolve)||void 0===r?void 0:r.call(c,p,(e=>o(l,"TAG_RESOLVE_FAILED",e)),t.options))&&void 0!==i?i:p,y=b(m)?m:new R(m);return y.range=p.range,y.tag=u,null!==(a=h)&&void 0!==a&&a.format&&(y.format=h.format),y}(Gt,e,t,n,s),c&&(l.anchor=c.source.substring(1));break;default:s(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:"Unsupported token (type: ".concat(t.type,")")),l=Ht(e,t.offset,void 0,null,n,s),u=!1}if(c&&""===l.anchor&&s(c,"BAD_ALIAS","Anchor cannot be an empty string"),o&&e.options.stringKeys&&(!y(l)||"string"!==typeof l.value||l.tag&&"tag:yaml.org,2002:str"!==l.tag)){s(null!==a&&void 0!==a?a:t,"NON_STRING_KEY","With stringKeys, all keys must be strings")}return i&&(l.spaceBefore=!0),r&&("scalar"===t.type&&""===t.source?l.comment=r:l.commentBefore=r),e.options.keepSourceTokens&&u&&(l.srcToken=t),l}function Ht(e,t,n,s,o,i){let{spaceBefore:r,comment:c,anchor:a,tag:l,end:u}=o;const f=Jt(e,{type:"scalar",offset:Wt(t,n,s),indent:-1,source:""},l,i);return a&&(f.anchor=a.source.substring(1),""===f.anchor&&i(a,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),c&&(f.comment=c,f.range[2]=u),f}function Xt(e){if("number"===typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"===typeof n?n.length:1)]}function zt(e){var t;let n="",s=!1,o=!1;for(let i=0;i<e.length;++i){const r=e[i];switch(r[0]){case"#":n+=(""===n?"":o?"\n\n":"\n")+(r.substring(1)||" "),s=!0,o=!1;break;case"%":"#"!==(null===(t=e[i+1])||void 0===t?void 0:t[0])&&(i+=1),s=!1;break;default:s||(o=!0),s=!1}}return{comment:n,afterEmptyLine:o}}class Zt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const o=Xt(e);s?this.warnings.push(new Lt(o,t,n)):this.errors.push(new Tt(o,t,n))},this.directives=new _({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=zt(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?"".concat(e.comment,"\n").concat(n):n;else if(s||e.directives.docStart||!o)e.commentBefore=n;else if(v(o)&&!o.flow&&o.items.length>0){let e=o.items[0];m(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?"".concat(n,"\n").concat(t):n}else{const e=o.commentBefore;o.commentBefore=e?"".concat(n,"\n").concat(e):n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:zt(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}compose(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return function*(){for(const n of e)yield*t.next(n);yield*t.end(n,s)}()}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,s)=>{const o=Xt(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,s)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,n,s){let{offset:o,start:i,value:r,end:c}=n;const a=Object.assign({_directives:t},e),l=new Ot(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=Ct(i,{indicator:"doc-start",next:null!==r&&void 0!==r?r:null===c||void 0===c?void 0:c[0],offset:o,onError:s,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,!r||"block-map"!==r.type&&"block-seq"!==r.type||f.hasNewline||s(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Qt(u,r,f,s):Ht(u,f.end,i,null,f,s);const h=l.contents.range[2],d=jt(c,h,!1,s);return d.comment&&(l.comment=d.comment),l.range=[o,h,d.offset],l}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?"".concat(e.message,": ").concat(JSON.stringify(e.source)):e.message,n=new Tt(Xt(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Tt(Xt(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=jt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?"".concat(e,"\n").concat(t.comment):t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Tt(Xt(e),"UNEXPECTED_TOKEN","Unsupported token ".concat(e.type)))}}end(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return function*(){if(e.doc)e.decorate(e.doc,!0),yield e.doc,e.doc=null;else if(t){const t=Object.assign({_directives:e.directives},e.options),s=new Ot(void 0,t);e.atDirectives&&e.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],e.decorate(s,!1),yield s}}()}}function en(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e){const s=(e,t,s)=>{const o="number"===typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new Tt([o,o+1],t,s);n(o,t,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Ft(e,t,s);case"block-scalar":return Ut({options:{strict:t}},e,s)}}return null}function tn(e,t){var n;const{implicitKey:s=!1,indent:o,inFlow:i=!1,offset:r=-1,type:c="PLAIN"}=t,a=ae({type:c,value:e},{implicitKey:s,indent:o>0?" ".repeat(o):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=null!==(n=t.end)&&void 0!==n?n:[{type:"newline",offset:-1,indent:o,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",s=[{type:"block-scalar-header",offset:r,indent:o,source:t}];return sn(s,l)||s.push({type:"newline",offset:-1,indent:o,source:"\n"}),{type:"block-scalar",offset:r,indent:o,props:s,source:n}}case'"':return{type:"double-quoted-scalar",offset:r,indent:o,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:o,source:a,end:l};default:return{type:"scalar",offset:r,indent:o,source:a,end:l}}}function nn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{afterKey:s=!1,implicitKey:o=!1,inFlow:i=!1,type:r}=n,c="indent"in e?e.indent:null;if(s&&"number"===typeof c&&(c+=2),!r)switch(e.type){case"single-quoted-scalar":r="QUOTE_SINGLE";break;case"double-quoted-scalar":r="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");r=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:r="PLAIN"}const a=ae({type:r,value:t},{implicitKey:o||null===c,indent:null!==c&&c>0?" ".repeat(c):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(a[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),s=t.substring(0,n),o=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=s,e.source=o}else{const{offset:t}=e,n="indent"in e?e.indent:-1,i=[{type:"block-scalar-header",offset:t,indent:n,source:s}];sn(i,"end"in e?e.end:void 0)||i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const s of Object.keys(e))"type"!==s&&"offset"!==s&&delete e[s];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:o})}}(e,a);break;case'"':on(e,a,"double-quoted-scalar");break;case"'":on(e,a,"single-quoted-scalar");break;default:on(e,a,"scalar")}}function sn(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function on(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const s=e.props.slice(1);let o=t.length;"block-scalar-header"===e.props[0].type&&(o-=e.props[0].source.length);for(const e of s)e.offset+=o;delete e.props,Object.assign(e,{type:n,source:t,end:s});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const s="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:s,source:t,end:o})}}}const rn=e=>"type"in e?cn(e):an(e);function cn(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=cn(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=an(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=an(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=an(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function an(e){let{start:t,key:n,sep:s,value:o}=e,i="";for(const r of t)i+=r.source;if(n&&(i+=cn(n)),s)for(const r of s)i+=r.source;return o&&(i+=cn(o)),i}const ln=Symbol("break visit"),un=Symbol("skip children"),fn=Symbol("remove item");function hn(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),dn(Object.freeze([]),e,t)}function dn(e,t,n){let s=n(t,e);if("symbol"===typeof s)return s;for(const o of["key","value"]){const i=t[o];if(i&&"items"in i){for(let t=0;t<i.items.length;++t){const s=dn(Object.freeze(e.concat([[o,t]])),i.items[t],n);if("number"===typeof s)t=s-1;else{if(s===ln)return ln;s===fn&&(i.items.splice(t,1),t-=1)}}"function"===typeof s&&"key"===o&&(s=s(t,e))}}return"function"===typeof s?s(t,e):s}hn.BREAK=ln,hn.SKIP=un,hn.REMOVE=fn,hn.itemAtPath=(e,t)=>{let n=e;for(const[o,i]of t){var s;const e=null===(s=n)||void 0===s?void 0:s[o];if(!e||!("items"in e))return;n=e.items[i]}return n},hn.parentCollection=(e,t)=>{const n=hn.itemAtPath(e,t.slice(0,-1)),s=t[t.length-1][0],o=null===n||void 0===n?void 0:n[s];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};const pn="\ufeff",mn="\x02",yn="\x18",gn="\x1f",vn=e=>!!e&&"items"in e,bn=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type);function kn(e){switch(e){case pn:return"<BOM>";case mn:return"<DOC>";case yn:return"<FLOW_END>";case gn:return"<SCALAR>";default:return JSON.stringify(e)}}function wn(e){switch(e){case pn:return"byte-order-mark";case mn:return"doc-mode";case yn:return"flow-error-end";case gn:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Sn(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const En=new Set("0123456789ABCDEFabcdef"),Nn=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),On=new Set(",[]{}"),An=new Set(" ,[]{}\n\r\t"),In=e=>!e||An.has(e);class Tn{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}lex(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(s){if(e){if("string"!==typeof e)throw TypeError("source is not a string");t.buffer=t.buffer?t.buffer+e:e,t.lineEndPos=null}t.atEnd=!n;let o=null!==(s=t.next)&&void 0!==s?s:"stream";for(;o&&(n||t.hasChars(1));)o=yield*t.parseNext(o)}()}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&Sn(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!==typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===pn&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,n=e.indexOf("#");for(;-1!==n;){const s=e[n-1];if(" "===s||"\t"===s){t=n-1;break}n=e.indexOf("#",n+1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield mn,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(("---"===e||"..."===e)&&Sn(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Sn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&Sn(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(In),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&Sn(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield yn,yield*this.parseLineStart()}let o=0;for(;","===s[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(In),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||Sn(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>Sn(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let o=this.pos;e=this.buffer[o];++o)switch(e){case" ":n+=1;break;case"\n":t=o,n=0;break;case"\r":{const e=this.buffer[o+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(e=this.buffer[s];" "===e;)e=this.buffer[++s];if("\t"===e){for(;"\t"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const o=e;for(;" "===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>o))break;t=e}return yield gn,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(":"===t){const t=this.buffer[s+1];if(Sn(t)||e&&On.has(t))break;n=s}else if(Sn(t)){let o=this.buffer[s+1];if("\r"===t&&("\n"===o?(s+=1,t="\n",o=this.buffer[s+1]):n=s),"#"===o||e&&On.has(o))break;if("\n"===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&On.has(t))break;n=s}return t||this.atEnd?(yield gn,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(In))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(Sn(t)||e&&On.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!Sn(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Nn.has(t))t=this.buffer[++e];else{if("%"!==t||!En.has(this.buffer[e+1])||!En.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Ln{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function xn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Cn(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function _n(e){switch(null===e||void 0===e?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Bn(e){switch(e.type){case"document":return e.start;case"block-map":{var t;const n=e.items[e.items.length-1];return null!==(t=n.sep)&&void 0!==t?t:n.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Kn(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===(null===(n=e[++t])||void 0===n?void 0:n.type);)var n;return e.splice(t,e.length)}function Mn(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||xn(t.start,"explicit-key-ind")||xn(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,_n(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class jn{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Tn,this.onNewLine=e}parse(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){t.onNewLine&&0===t.offset&&t.onNewLine(0);for(const s of t.lexer.lex(e,n))yield*t.next(s);n||(yield*t.end())}()}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=wn(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t="Not a YAML token: ".concat(e);yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=null!==e&&void 0!==e?e:this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Mn(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(("document"===e.type||"block-map"===e.type||"block-seq"===e.type)&&("block-map"===t.type||"block-seq"===t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Cn(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML stream"),source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==Cn(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML document"),source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Kn(Bn(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===(null===s||void 0===s?void 0:s.type)?null===n||void 0===n||n.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){var n;const s=e.items[e.items.length-2],o=null===s||void 0===s||null===(n=s.value)||void 0===n?void 0:n.end;if(Array.isArray(o))return Array.prototype.push.apply(o,t.start),o.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,s=n&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type;let o=[];if(s&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const o=t.sep[s];switch(o.type){case"newline":n.push(s);break;case"space":break;case"comment":o.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(o=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(s||t.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||t.explicitKey?s||t.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(xn(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(_n(t.key)&&!xn(t.sep,"newline")){const e=Kn(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else o.length>0?t.sep=t.sep.concat(o,this.sourceToken):t.sep.push(this.sourceToken);else if(xn(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Kn(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:o,key:null,sep:[this.sourceToken]}):xn(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(s||t.value?(e.items.push({start:o,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const s=this.startBlockValue(e);if(s){if("block-seq"===s.type){if(!t.explicitKey&&t.sep&&!xn(t.sep,"newline"))return void(yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}))}else n&&e.items.push({start:o});return void this.stack.push(s)}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;"comment"===(null===s||void 0===s?void 0:s.type)?null===n||void 0===n||n.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){var n;const s=e.items[e.items.length-2],o=null===s||void 0===s||null===(n=s.value)||void 0===n?void 0:n.end;if(Array.isArray(o))return Array.prototype.push.apply(o,t.start),o.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||xn(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Kn(Bn(t));Mn(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Kn(Bn(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Kn(Bn(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Dn(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new Ln||null,prettyErrors:t}}function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{lineCounter:n,prettyErrors:s}=Dn(t),o=new jn(null===n||void 0===n?void 0:n.addNewLine),i=new Zt(t),r=Array.from(i.compose(o.parse(e)));if(s&&n)for(const c of r)c.errors.forEach(xt(e,n)),c.warnings.forEach(xt(e,n));return r.length>0?r:Object.assign([],{empty:!0},i.streamInfo())}function Pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{lineCounter:n,prettyErrors:s}=Dn(t),o=new jn(null===n||void 0===n?void 0:n.addNewLine),i=new Zt(t);let r=null;for(const c of i.compose(o.parse(e),!0,e.length))if(r){if("silent"!==r.options.logLevel){r.errors.push(new Tt(c.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else r=c;return s&&n&&(r.errors.forEach(xt(e,n)),r.warnings.forEach(xt(e,n))),r}function Un(e,t,n){let s;"function"===typeof t?s=t:void 0===n&&t&&"object"===typeof t&&(n=t);const o=Pn(e,n);if(!o)return null;if(o.warnings.forEach((e=>fe(o.options.logLevel,e))),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:s},n))}function Fn(e,t,n){let s=null;if("function"===typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t),"string"===typeof n&&(n=n.length),"number"===typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){var o;const{keepUndefined:e}=null!==(o=null!==n&&void 0!==n?n:t)&&void 0!==o?o:{};if(!e)return}return d(e)&&!s?e.toString(n):new Ot(e,s,n).toString(n)}const Rn=o}}]);
//# sourceMappingURL=516.f5cb408b.chunk.js.map